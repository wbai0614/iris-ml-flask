<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Iris ML Predictor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Iris flower prediction demo using Logistic Regression and K-Means on Cloud Run." />
  <link rel="icon" href="/assets/logo.svg" />
  <link rel="stylesheet" href="/styles.css" />
</head>
<body>
  <div class="wrapper">
    <header>
      <div class="brand">
        <img src="/assets/logo.svg" class="logo" alt="" />
        <div>
          <h1 class="title">Iris ML Predictor</h1>
          <p class="subtitle">Logistic Regression &amp; K-Means on Cloud Run</p>
        </div>
      </div>
      <div class="tiny" id="apiInfo">API: <code>/predict</code></div>
    </header>

    <main class="grid grid-2" role="main">
      <!-- Form -->
      <section class="card" aria-labelledby="formTitle">
        <h2 id="formTitle" class="h2">Prediction Form</h2>

        <div class="row mb-sm">
          <button class="btn" data-fill="setosa" aria-label="Autofill Setosa example">Autofill Setosa</button>
          <button class="btn" data-fill="versicolor" aria-label="Autofill Versicolor example">Autofill Versicolor</button>
          <button class="btn" data-fill="virginica" aria-label="Autofill Virginica example">Autofill Virginica</button>
          <button class="btn" id="clearBtn" aria-label="Clear fields">Clear</button>
        </div>

        <div class="inputs" aria-describedby="hint">
          <div><label for="sl">Sepal Length</label><input id="sl" inputmode="decimal" type="number" step="any" placeholder="5.1" required></div>
          <div><label for="sw">Sepal Width</label><input id="sw" inputmode="decimal" type="number" step="any" placeholder="3.5" required></div>
          <div><label for="pl">Petal Length</label><input id="pl" inputmode="decimal" type="number" step="any" placeholder="1.4" required></div>
          <div><label for="pw">Petal Width</label><input id="pw" inputmode="decimal" type="number" step="any" placeholder="0.2" required></div>
        </div>
        <p id="hint" class="tiny mt-xs">Enter four numeric features for the Iris sample.</p>

        <div class="row mt-sm">
          <label for="model" class="m-0">Model</label>
          <select id="model" aria-label="Model selection">
            <option value="logreg">Logistic Regression</option>
            <option value="kmeans">K-Means</option>
          </select>
        </div>

        <div class="row mt-xs">
          <button class="btn primary" id="predictBtn">
            Predict
            <span id="spinner" class="spinner" hidden></span>
          </button>
          <span id="status" class="tiny" aria-live="polite"></span>
        </div>

        <div id="error" class="error tiny mt-xs" role="alert" hidden></div>
      </section>

      <!-- Result -->
      <aside class="card" aria-labelledby="resultTitle">
        <h2 id="resultTitle" class="h2">Result</h2>
        <p id="noResult" class="muted">No prediction yet. Use the form to run a prediction.</p>

        <div id="resultBox" hidden>
          <div class="kv"><span>Model</span><strong id="outModel" class="badge">—</strong></div>
          <div class="mt-xs">
            <div class="muted">Features</div>
            <code id="outFeatures" class="wrap"></code>
          </div>
          <div class="kv mt-xs">
            <span>Prediction</span>
            <span id="outPrediction" class="pred">—</span>
          </div>
          <p id="outLabelWrap" class="tiny mt-xs" hidden>
            Class label: <strong id="outLabel"></strong>
          </p>
        </div>
      </aside>
    </main>

    <!-- Examples -->
    <section class="card mt-md" aria-labelledby="exTitle">
      <h2 id="exTitle" class="h2">Examples</h2>
      <div class="grid tri">
        <div><strong>Setosa</strong><div><code>[5.1, 3.5, 1.4, 0.2]</code></div></div>
        <div><strong>Versicolor</strong><div><code>[6.0, 2.9, 4.5, 1.5]</code></div></div>
        <div><strong>Virginica</strong><div><code>[6.3, 3.3, 6.0, 2.5]</code></div></div>
      </div>
    </section>

    <footer>© <span id="year"></span> Iris ML Demo • Served from Cloud Run</footer>
  </div>

  <div id="toast" class="toast" role="status" aria-live="polite" hidden></div>
  <script src="/app.js"></script>
</body>
</html>

<!doctype html>
<html lang="en">
<head>
  <meta charset="utf-8" />
  <title>Iris ML Predictor</title>
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="description" content="Iris prediction using Logistic Regression & K-Means. Deployed on Cloud Run." />
  <link rel="icon" href="/assets/logo.svg" />
  <link rel="stylesheet" href="/styles.css?v=fix2" />
</head>
<body>
  <div class="wrapper">
    <header class="hdr">
      <div class="brand">
        <img src="/assets/logo.svg" class="logo" alt="Iris app logo" />
        <div>
          <h1 class="title">Iris ML Predictor</h1>
          <p class="subtitle">Logistic Regression &amp; K-Means • Cloud Run</p>
        </div>
      </div>
      <div class="hdr-actions">
        <span class="tiny">Health: <strong id="healthDot" aria-live="polite">…</strong></span>
      </div>
    </header>

    <main class="grid grid-3" role="main">
      <!-- Form -->
      <section class="card" aria-labelledby="formTitle">
        <div class="card-head">
          <h2 id="formTitle" class="h2">Prediction Form</h2>
        </div>

        <div class="row mb-sm">
          <button class="btn" type="button" onclick="document.getElementById('sl').value='5.1';document.getElementById('sw').value='3.5';document.getElementById('pl').value='1.4';document.getElementById('pw').value='0.2'">Setosa</button>
          <button class="btn" type="button" onclick="document.getElementById('sl').value='6.0';document.getElementById('sw').value='2.9';document.getElementById('pl').value='4.5';document.getElementById('pw').value='1.5'">Versicolor</button>
          <button class="btn" type="button" onclick="document.getElementById('sl').value='6.3';document.getElementById('sw').value='3.3';document.getElementById('pl').value='6.0';document.getElementById('pw').value='2.5'">Virginica</button>
          <button class="btn" type="button" onclick="['sl','sw','pl','pw'].forEach(id=>document.getElementById(id).value='')">Clear</button>
        </div>

        <div class="inputs" aria-describedby="hint">
          <div>
            <label for="sl">Sepal Length</label>
            <input id="sl" inputmode="decimal" type="number" step="any" placeholder="5.1" />
          </div>
          <div>
            <label for="sw">Sepal Width</label>
            <input id="sw" inputmode="decimal" type="number" step="any" placeholder="3.5" />
          </div>
          <div>
            <label for="pl">Petal Length</label>
            <input id="pl" inputmode="decimal" type="number" step="any" placeholder="1.4" />
          </div>
          <div>
            <label for="pw">Petal Width</label>
            <input id="pw" inputmode="decimal" type="number" step="any" placeholder="0.2" />
          </div>
        </div>
        <p id="hint" class="tiny mt-xs">Enter four numeric features for the Iris sample.</p>

        <div class="row mt-sm">
          <label for="model" class="m-0">Model</label>
          <select id="model" aria-label="Model selection">
            <option value="logreg">Logistic Regression</option>
            <option value="kmeans" selected>K-Means</option>
          </select>
        </div>

        <div class="row mt-xs">
          <button class="btn primary" id="predictBtn" type="button">
            Predict
            <span id="spinner" class="spinner" hidden></span>
          </button>
          <span id="status" class="tiny" aria-live="polite"></span>
        </div>

        <div id="error" class="error tiny mt-xs" role="alert" hidden></div>
      </section>

      <!-- Result -->
      <section class="card" aria-labelledby="resultTitle">
        <h2 id="resultTitle" class="h2">Result</h2>
        <p id="noResult" class="muted">No prediction yet. Use the form to run a prediction.</p>

        <div id="resultBox" hidden>
          <div class="kv"><span>Model</span><strong id="outModel" class="badge">—</strong></div>
          <div class="kv mt-xs"><span>Prediction</span><span id="outPrediction" class="pred">—</span></div>
          <p id="outLabelWrap" class="tiny mt-xs" hidden>Class label: <strong id="outLabel"></strong></p>
          <details class="mt-xs">
            <summary class="tiny">Show input features</summary>
            <code id="outFeatures" class="wrap"></code>
          </details>
        </div>
      </section>

      <!-- Examples -->
      <aside class="card" aria-labelledby="exTitle">
        <h2 id="exTitle" class="h2">Examples</h2>
        <div class="grid tri">
          <div><strong>Setosa</strong><div><code>[5.1, 3.5, 1.4, 0.2]</code></div></div>
          <div><strong>Versicolor</strong><div><code>[6.0, 2.9, 4.5, 1.5]</code></div></div>
          <div><strong>Virginica</strong><div><code>[6.3, 3.3, 6.0, 2.5]</code></div></div>
        </div>
      </aside>
    </main>

    <footer>
      © <span id="year"></span> Iris ML Demo • <span id="footVersion">v?</span>
    </footer>
  </div>

  <script src="/app.js?v=fix2"></script>
</body>
</html>
